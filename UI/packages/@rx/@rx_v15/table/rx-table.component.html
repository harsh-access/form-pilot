<table class="{{tableClass}} {{code}}" style="margin-bottom:0px !important;" [id]="tableId">
  <colgroup>
    <col *ngIf="detailTemplate != undefined" style="width:30px" />
    <col [class.d-none]="column.visible" *ngFor="let column of columns;" [style.width.px]="column.width" />
  </colgroup>
  <thead>
    <tr>
      <th *ngIf="detailTemplate != undefined" style="width:30px"></th>
      <th [class.d-none]="!column.visible" [style.width.px]="column.width" *ngFor="let column of columns;">
        <div class="filter" *ngIf="column.filter && (!column.actionable || column.applyFilter) " [class.show]="column.isFilterOpen"
          style="float:left">
          <div class="fltricn">
            <a>
              <i class="fa fa-filter" (click)="showFilter(column,$event)"></i>
            </a>
          </div>
          <div class="fltrcntnt">
            <div class="filterheader">
              <h6>{{column.title}}</h6>
            </div>
            <div class="filterbody">
              <!--<label for="clientname">{{column.title}}</label>-->
              <div class="form-group">
                <!--<label for="clientname">{{column.title}}</label>-->
                <rx-date [(ngModel)]="column.filterValue" [focus]="true" pickerClass="form-control"
                  *ngIf="column.dataType=='date'"></rx-date>
                <div class="input-group" *ngIf="column.dataType!='date'">
                  <input type="text" class="form-control" [(ngModel)]="column.filterValue"
                    *ngIf="(column.dataType!='date' && column.filterInputType != 'select')" />
                  <select *ngIf="column.filterInputType == 'select'" class="form-control" name="filter" #inputElement
                  [(ngModel)]="column.filterValue">
                    <option *ngFor="let item of column.filterSource" value="{{item}}">{{item}}</option>
                  </select>
                  <!-- <div class="input-group-prepend">
                    <span class="input-group-text">
                      <i class="fa fa-eraser" title="Clear Text" (click)="clearFilterValue(column);"></i>
                    </span>
                  </div> -->
                  <div class="filterfotoer text-right">
                    <button type="button" class="btn btn-light btn-sm mr-2"
                      (click)="filterColumn(column)">
                      <i class="fa fa-search" aria-hidden="true"></i>
                    </button>
                    <button type="button" class="btn btn-light btn-sm" data-dismiss="modal" (click)="cancelFilter(column)">
                      <i class="fa fa-times" aria-hidden="true"></i>
                    </button>
                  </div>
                </div>
              </div>
              <!-- <div class="form-group">
                  <input type="text" class="form-control" id="clientname" [(ngModel)]="column.filterValue">
                </div> -->

              <!-- <div class="filterfotoer text-right">
                <button type="button" class="btn btn-primary btn-sm mr-2" title="SAVE"
                  (click)="filterColumn(column)">
                  <i class="fa fa-search ml-1" aria-hidden="true"></i>
                </button>
                <button type="button" class="btn btn-primary btn-sm" data-dismiss="modal" (click)="cancelFilter(column)"
                  title="CANCEL">
                  <i class="fa fa-times ml-1" aria-hidden="true"></i>
                </button>
              </div> -->
            </div>
          </div>
        </div>
        <div style="float:left;" (click)="sortColumn(column)"> {{column.title}}
          <i *ngIf="column.sortable != undefined" [ngClass]="column.sortClass"></i>
        </div>
      </th>
    </tr>
  </thead>
  <tbody class="{{tbodyClass}}">
    <tr *ngIf="addRow && isAddRow" [rxSelectable]="{selectable:selectable,code:code}">
      <td [class.d-none]="!column.visible" *ngFor="let column of columns;" [ngClass]="getColumnClass(addItem,column)">
        <ng-template *ngIf="column.template"
          [gridTemplateHost]="{templateRef:column.template, columnName:column.field, config:column.config, isAdd:true, dataItem:addItem, rowIndex:0, $implicit: addItem}">
        </ng-template>
      </td>
    </tr>
    <ng-template ngFor let-item let-rowIndex="index" [ngForOf]="data">
      <tr [ngClass]="getRowClass(item)" [rxSelectable]="{selectable:selectable,code:code}">
        <td *ngIf="detailTemplate != undefined" (click)="showDetail(rowIndex)">
          <i [ngClass]="detailIndex == rowIndex ? openDetail : closeDetail"></i>
        </td>
        <td [class.d-none]="!column.visible" *ngFor="let column of columns;" (click)="rowClick(column,item)"
          [ngClass]="getColumnClass(item,column)">
          <ng-template *ngIf="column.template"
            [gridTemplateHost]="{templateRef:column.template, columnName:column.field, config:column.config, isAdd:false, dataItem:item, rowIndex:rowIndex, $implicit: item}">
          </ng-template>

          <span *ngIf="!column.template && !column.type && column.dataType != 'date'" rxTooltip="top"
            [tipMessage]="item[column.field]" tipTrigger="hover" [visible]="showTip">
            {{item | valueOf : column.field : column.dataType }}
          </span>
          <span *ngIf="!column.template && !column.type && column.dataType == 'date' " rxTooltip="top"
            [tipMessage]="item[column.field ] | date: 'dd/MM/yyyy h:mm a'" tipTrigger="hover" [visible]="showTip">
            {{item | valueOf : column.field : column.dateFormat || format }}
          </span>
          <div *ngIf="column.type == 'html'" [rxHtml]="item[column.field]"></div>
          <a *ngIf="column.link" [routerLink]="getLink(item,column.link)"
            [queryParams]="getQueryParams(item,column.queryParams)">{{item | valueOf : column.field : column.dataType}}
          </a>
        </td>
      </tr>
      <tr *ngIf="detailTemplate != undefined && detailIndex == rowIndex">
        <td></td>
        <td colspan="50">
          <ng-template
            [gridTemplateHost]="{templateRef:detailTemplate.templateRef, row:item, rowIndex:rowIndex, $implicit: item}">
          </ng-template>
        </td>
      </tr>
    </ng-template>
  </tbody>
</table>
<div class="mt-4 clearfix">
  <div *ngIf="total > pageSize" class="pull-left mt-1">
    <div class="pagination my-0">
      <nav aria-label="Page navigation" class="m-auto mr-xl-0">
        <ul class="pagination my-0" *ngIf="showPagging">
          <li class="page-item" [class.disabled]="isPrevious">
            <a (click)="first();closeFilter();" class="page-link leftarrw">
              <i class="fa fa-angle-left" aria-hidden="true"></i>
            </a>
          </li>
          <li class="page-item" [class.disabled]="isPrevious">
            <a class="page-link" (click)="previous();closeFilter();">
              <i class="fa fa-angle-left" aria-hidden="true"></i>
            </a>
          </li>
          <li class="page-item" *ngFor="let pageIndex of pageIndexs;  let i=index;"
            (click)="goTo(pageIndex);closeFilter();" [class.active]="pageIndex == skip">
            <a class="page-link">{{pageIndex}}</a>
          </li>
          <li class="page-item" [class.disabled]="isNext">
            <a class="page-link" (click)="next();closeFilter();">
              <i class="fa fa-angle-right" aria-hidden="true"></i>
            </a>
          </li>
          <li class="page-item" [class.disabled]="isNext">
            <a (click)="last();closeFilter();" class="page-link rightarrw">
              <i class="fa fa-angle-right" aria-hidden="true"></i>
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
  <div *ngIf="showPagging" class="rws-pr-pg bold pull-left mt-3 ml-3">
    <ng-template *ngIf="currentFooter" [gridTemplateHost]="{templateRef:currentFooter.template}">
    </ng-template>
    <span *ngIf="total > pageSize">
      {{footerText}}
      <!-- <select (change)="changePageSize($event.target.value);closeFilter();">
            <option *ngFor="let size of pageSizes" [selected]="size == pageSize">{{size}}</option>
          </select> rows per page -->
    </span>
  </div>
</div>
<div *ngIf="!showPagging">
  <div class="col-12 mt-4">
    <p class="text-danger">{{footerText}}</p>
  </div>
</div>
